const menu=document.querySelector(".header__menu-wrap"),menuItem=document.querySelectorAll(".header__menu-item"),burger=document.querySelector(".header__burger");burger.addEventListener("click",()=>{burger.classList.toggle("d-none"),menu.classList.toggle("header__menu-wrap_active"),setTimeout(()=>menu.classList.toggle("header__menu-wrap_background-dark"),500)});const menuToggleAction=()=>{burger.classList.toggle("d-none"),menu.classList.toggle("header__menu-wrap_active"),menu.classList.toggle("header__menu-wrap_background-dark")};menuItem.forEach(e=>{e.addEventListener("click",()=>{menuToggleAction()})}),menu.addEventListener("click",e=>{e.target.classList.contains("header__menu")&&menuToggleAction()});const aboutCourseMoreinfo=document.querySelector(".about-course__moreinfo"),aboutCourseHidedTabs=document.querySelectorAll(".about-course__hided"),aboutCourseBenefitVisibleTabs=document.querySelectorAll(".about-course__benefit_visible"),makeAllListItemsVisible=()=>{aboutCourseBenefitVisibleTabs.forEach(e=>{e.classList.add("about-course__benefit_list")})},hideAllListMobileItemsVisible=()=>document.querySelectorAll(".about-course__benefit_notmobile-none").forEach(e=>e.classList.remove("about-course__benefit_notmobile-none"));aboutCourseMoreinfo.onclick=()=>{for(const e of aboutCourseHidedTabs)e.classList.toggle("about-course__benefit_d-none"),hideAllListMobileItemsVisible();makeAllListItemsVisible()};const aboutCourseMoreinfoMobile=document.querySelector(".about-course__moreinfo_mobile");aboutCourseMoreinfoMobile.onclick=()=>{hideAllListMobileItemsVisible(),aboutCourseMoreinfo.parentElement.classList.add("d-none"),makeAllListItemsVisible()};const aboutPresenterMoreinfoPlan=document.querySelector(".about-presenter__moreinfo_plan"),aboutPresenterDescrFullTabs=document.querySelectorAll(".about-presenter__descr_full"),aboutPresenterMoreinfoMobile=document.querySelector(".about-presenter__moreinfo_mobile");aboutPresenterMoreinfoPlan.onclick=()=>{aboutPresenterDescrFullTabs.forEach(e=>{e.classList.remove("about-presenter__descr_full")}),aboutPresenterMoreinfoPlan.parentElement.classList.remove("about-presenter__descr_plan"),aboutPresenterMoreinfoMobile.parentElement.classList.remove("about-presenter__descr_mobile")},aboutPresenterMoreinfoMobile.onclick=()=>{aboutPresenterDescrFullTabs.forEach(e=>{e.classList.remove("about-presenter__descr_full")}),aboutPresenterMoreinfoMobile.parentElement.classList.remove("about-presenter__descr_mobile"),aboutPresenterMoreinfoPlan.parentElement.classList.remove("about-presenter__descr_plan")};const body=document.body,sliderButtonsOpinions=document.querySelector(".slider-buttons_opinions"),next=sliderButtonsOpinions.querySelector(".swiper-button-next"),prev=sliderButtonsOpinions.querySelector(".swiper-button-prev"),swiper=new Swiper(".swiper-container",{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination_opinions",type:"fraction",clickable:"true"},breakpoints:{1440:{slidesPerView:3,spaceBetween:53},768:{slidesPerView:2.4,spaceBetween:24},640:{slidesPerView:1,spaceBetween:50},480:{slidesPerView:1,spaceBetween:10},300:{slidesPerView:1,spaceBetween:40}},navigation:{nextEl:next,prevEl:prev}}),sliderButtonsDiploms=document.querySelector(".slider-buttons_diploms"),next2=sliderButtonsDiploms.querySelector(".swiper-button-next"),prev2=sliderButtonsDiploms.querySelector(".swiper-button-prev"),swiper2=new Swiper(".swiper-container2",{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination",type:"bullets"},breakpoints:{1440:{slidesPerView:3,spaceBetween:40},768:{slidesPerView:1.9,spaceBetween:10},640:{slidesPerView:1.6,spaceBetween:20},480:{slidesPerView:1.5,spaceBetween:10},300:{slidesPerView:1,spaceBetween:40}},navigation:{nextEl:next2,prevEl:sliderButtonsDiploms.querySelector(".swiper-button-prev")}}),headerLogoImg=document.querySelector(".header__logo-img"),headerTop=document.querySelector(".header__top"),magicHeader=()=>{headerLogoImg.classList.add("header__logo-img_magic"),headerTop.classList.add("header__top_magic"),burger.classList.add("header__burger_magic")},unMagicHeader=()=>{headerLogoImg.classList.remove("header__logo-img_magic"),headerTop.classList.remove("header__top_magic"),burger.classList.remove("header__burger_magic")},goUp=document.querySelector(".go-up");window.addEventListener("scroll",()=>{console.log(window.pageYOffset),window.pageYOffset>0&&(headerLogoImg.classList.add("header__logo-img_magic"),headerTop.classList.add("header__top_magic"),burger.classList.add("header__burger_magic")),0===window.pageYOffset&&(headerLogoImg.classList.remove("header__logo-img_magic"),headerTop.classList.remove("header__top_magic"),burger.classList.remove("header__burger_magic")),window.pageYOffset>600?goUp.classList.remove("d-none"):goUp.classList.add("d-none"),window.pageYOffset>3841?goUp.classList.add("go-up__absolut"):goUp.classList.remove("go-up__absolut"),window.pageYOffset>4466?goUp.classList.add("go-up__bottom-up"):goUp.classList.remove("go-up__bottom-up")}),goUp.onclick=e=>{e.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})},modalMeetingTerms=document.querySelector(".modal__meeting_terms"),modalMeetingTerms.onclick=e=>{e.preventDefault(),window.open("http://example.com")};const modalMeetingPrivacy=document.querySelector(".modal__meeting_privacy");modalMeetingPrivacy.onclick=e=>{e.preventDefault(),window.open("http://example.com")};const modalOrderCourseTerms=document.querySelector(".modal__order-course_terms");modalOrderCourseTerms&&(modalOrderCourseTerms.onclick=e=>{e.preventDefault(),window.open("http://example.com")});const modalOrderCoursePrivacy=document.querySelector(".modal__order-course_privacy");modalOrderCourseTerms&&(modalOrderCoursePrivacy.onclick=e=>{e.preventDefault(),window.open("http://example.com")});const modalCloseButtons=document.querySelectorAll(".modal__close"),overlay=document.querySelector(".overlay");for(button of modalCloseButtons)button.onclick=e=>{e.target.closest(".modal").classList.add("d-none"),overlay.classList.add("d-none"),enableScroll(),body.classList.remove("modal-opened")};const modal__meeting=document.querySelector(".modal__meeting"),modalOrderCourse=document.querySelector(".modal__order-course");function enableScroll(){const e=parseInt(body.dataset.position,10);body.style.top="auto",body.classList.remove("disable-scroll"),window.scroll({top:e,left:0}),body.removeAttribute("data-position")}function disableScroll(){const e=window.scrollY;body.classList.add("disable-scroll"),body.dataset.position=e,body.style.top=-e+"px"}tabModalFocus=e=>{"Tab"==e.code&&modal__meeting.classList.contains("modal-active")&&modal__meeting.querySelector(".form-action").focus()};const timer=()=>{setTimeout((function(){body.classList.contains("modal-opened")?timer():openPresentModal()}),3e4)};function openPresentModal(){overlay.classList.remove("d-none"),modal__meeting.classList.remove("d-none"),modal__meeting.classList.add("modal-active"),document.addEventListener("keydown",tabModalFocus,{once:!0}),disableScroll()}function closePresentModal(){overlay.classList.add("d-none"),modal__meeting.classList.add("d-none"),modal__meeting.classList.remove("modal-active"),enableScroll()}function validateFormOnSubmit(e){return reason="",e.name&&(reason+=validateName(e)),e.email&&(reason+=validateEmail(e)),e.tel&&(reason+=validatePhone(e)),e.name_ordercourse&&(reason+=validateDegree(e)),e.disclaimer&&(reason+=validateDisclaimer(e)),document.addEventListener("keydown",tabModalFocus,{once:!0}),reason.length,!1}function validateName(e){let o="";return e.name.value.length<2?(e.querySelector(".modal__input-name-error").innerHTML="Неверный формат символов",o="1"):e.querySelector(".modal__input-name-error").innerHTML="&nbsp;",o}function validateEmail(e){const o=e.email;let t="";const r=trim(o.value);return""==o.value?(e.querySelector(".modal__input-email-error").innerHTML="Пожалуйста, введите адрес электронной почты",t="2"):/^[^@]+@[^@.]+\.[^@]*\w\w$/.test(r)?o.value.match(/[\(\)\<\>\,\;\:\\\"\[\]]/)?(t="4",e.querySelector(".modal__input-email-error").innerHTML="Адрес электронной почты содержит недопустимые символы"):e.querySelector(".modal__input-email-error").innerHTML="&nbsp;":(e.querySelector(".modal__input-email-error").innerHTML="Пожалуйста, введите действительный адрес электронной почты",t="3"),t}function trim(e){return e.replace(/^\s+|\s+$/,"")}function validatePhone(e){let o=e.tel,t="";const r=o.value.replace(/[\(\)\.\-\ ]/g,"");return""==o.value?(e.querySelector(".modal__input-tel-error").innerHTML="Пожалуйста введите номер телефона",t="6"):isNaN(parseInt(r))?(t="5",e.querySelector(".modal__input-tel-error").innerHTML="Неверный формат номера телефона"):r.length<10?(t="6",e.querySelector(".modal__input-tel-error").innerHTML="Телефонный номер слишком короткий"):e.querySelector(".modal__input-tel-error").innerHTML="&nbsp",t}function validateDegree(e){let o="";return 0==e.degree[0].checked&&0==e.degree[1].checked?(e.querySelector(".modal__input-chbox-error").innerHTML="Нужно выбрать Да или Нет",o="2"):e.querySelector(".modal__input-chbox-error").innerHTML=" ",o}function validateDisclaimer(e){const o=e.disclaimer;let t="";return!1===document.getElementById(o.id).checked?(document.getElementById(o.id).style.backgroundColor="green",document.getElementById(o.id).nextElementSibling.classList.add("checkbox-input_error"),t="4"):document.getElementById(o.id).nextElementSibling.classList.remove("checkbox-input_error"),t}timer();const forms=()=>{const e=document.querySelectorAll("form"),o=document.querySelectorAll("input"),t="Загрузка",r="Спасибо! Скоро мы с Вами свяжемся",n="Что-то пошло не так";e.forEach(e=>{e.addEventListener("submit",s=>{s.preventDefault();let a=document.createElement("div");a.classList.add("status"),e.appendChild(a);(async(e,o)=>{document.querySelector(".status").textContent=t;let r=await fetch(e,{method:"POST",body:o});return await r.text()})("sendmail.php",new FormData(e)).then(e=>{console.log(e),a.textContent=r,closePresentModal()}).catch(()=>a.textContent=n).finally(()=>{o.forEach(e=>{e.value=""}),setTimeout(()=>{a.remove()},5e3)})})})};forms();